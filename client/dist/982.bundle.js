"use strict";(self.webpackChunkcatwalk=self.webpackChunkcatwalk||[]).push([[982],{1982:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(7294),n=a(9669),l=a.n(n);const c=function(e){var t={fontSize:"25px"},a={textDecoration:"underline",fontSize:"20px"},n={textAlign:"center"},l=e.relatedItem.data,c=e.pageProduct.data,i={};return c.features.forEach((function(e){i[e.feature]={value1:e.value,value2:null}})),l.features.forEach((function(e){i[e.feature]?i[e.feature].value2=e.value:i[e.feature]={value1:null,value2:e.value}})),r.createElement("div",{className:"modal-comparison-body"},r.createElement("div",{className:"modal-box"},r.createElement("div",{className:"modal-table"},function(){var e=[],o=[],u=[];o.push(r.createElement("td",null),r.createElement("td",null,"Comparing"),r.createElement("td",null)),u.push(r.createElement("td",null,c.name),r.createElement("td",null),r.createElement("td",null,l.name)),e.push(r.createElement("tr",{style:t},o)),e.push(r.createElement("tr",{style:a},u));for(var d=0;d<Object.keys(i).length;d++){var s=[],m=Object.keys(i)[d];s.push(r.createElement("td",null,i[m].value1||"-"),r.createElement("td",null,m),r.createElement("td",null,i[m].value2||"-")),e.push(r.createElement("tr",{style:n},s))}return e}())),r.createElement("span",{className:"modal-close-icon",onClick:e.handleClose},"x"))};var i=a(4045),o=a(8977);function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const m=function(e){var t,a=(0,r.useContext)(o.Z),n=d((0,r.useState)(""),2),s=n[0],m=n[1],f=d((0,r.useState)({}),2),p=(f[0],f[1],d((0,r.useState)(null),2)),h=p[0],v=p[1],y=d((0,r.useState)(null),2),g=y[0],E=y[1],b=d((0,r.useState)(!1),2),I=b[0],N=b[1],w=d((0,r.useState)(0),2),S=w[0],C=w[1],k=function(){N(!I)};return(0,r.useEffect)((function(){return l().get("/products",{params:{productId:e.relatedItem.data.id,path:"/products/:product_id/styles"}}).then((function(e){m(e.data.results[0].photos[0].url),v(e.data.results[0].sale_price),E(e.data.results[0].original_price)})),l().get("/reviews/meta",{params:{product_id:e.relatedItem.data.id}}).then((function(e){var t=0,a=0;for(var r in e.data.ratings)t+=r*parseInt(e.data.ratings[r],10),a+=parseInt(e.data.ratings[r],10);var n=Math.round(1e3*t/a)/1e3;C(n)})).catch((function(e){C(0)})),function(){}}),[e.relatedItem.data.id]),r.createElement("div",(u(t={className:"related-card"},"className",a?"related-card-dark":"related-card-light"),u(t,"id",e.relatedItem.data.id),t),r.createElement("i",{className:"fas fa-star",onClick:k}),I&&r.createElement(c,{handleClose:k,relatedItem:e.relatedItem,pageProduct:e.pageProduct,style:"z-index:3"}),s?r.createElement("img",{className:"related-img",src:s,alt:e.relatedItem.data.name,id:e.relatedItem.data.id,onClick:e.handleCardClick}):r.createElement("img",{className:"no-image",style:{backgroundColor:"white"},src:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:e.relatedItem.data.name,id:e.relatedItem.data.id,onClick:e.handleCardClick}),r.createElement("div",{className:"related-card-category",id:e.relatedItem.data.id},e.relatedItem.data.category),r.createElement("div",{className:"related-card-name",id:e.relatedItem.data.id},e.relatedItem.data.name),h?r.createElement("div",{className:"related-card-sale-price",id:e.relatedItem.data.id},h):r.createElement("div",{className:"related-card-original-price",id:e.relatedItem.data.id},g),r.createElement("div",{className:"related-review",id:e.relatedItem.data.id},r.createElement(i.Z,{id:e.relatedItem.data.id,value:S})))};var f=a(6624),p=a(3750);function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const g=function(e){var t,a,n,c,i=(0,r.useContext)(o.Z),u=v((0,r.useState)([]),2),d=u[0],s=u[1],y=v((0,r.useState)({}),2),g=y[0],E=y[1],b=v((0,r.useState)(!1),2),I=b[0],N=b[1],w=v((0,r.useState)(!0),2),S=w[0],C=w[1];(0,r.useEffect)((function(){var t=!0;return l().get("/products",{params:{productId:e.defaultProduct_id,path:"/products/:product_id"}}).then((function(e){E(e)})),l().get("/products",{params:{productId:e.defaultProduct_id,path:"/products/:product_id/related"}}).then((function(e){if(t){for(var a=[],r=0;r<e.data.length;r++)a.push(l().get("/products",{params:{productId:e.data[r],path:"/products/:product_id"}}));return f.Promise.all(a)}})).then((function(e){s(e)})),function(){t=!1}}),[e.defaultProduct_id]);var k=(0,r.useRef)(),A=function(e){k.current.scrollLeft+=e};return void 0!==d&&r.createElement("div",{className:"related-item"},i?r.createElement(p.knT,(h(t={className:"left-arrow"},"className",I?"active":"non-active"),h(t,"size",64),h(t,"onClick",(function(){return A(-100)})),t)):r.createElement(p.hPB,(h(a={className:"left-arrow"},"className",I?"active":"non-active"),h(a,"size",64),h(a,"style",{color:"#a6a6a6"}),h(a,"onClick",(function(){return A(-100)})),a)),r.createElement("div",{className:"related-slide",ref:k,onLoad:function(){var e=k.current;e.clientWidth&&e.addEventListener("scroll",(function(){N(e.scrollLeft>0),C(e.scrollLeft<e.scrollWidth-e.clientWidth||e.scrollWidth<e.clientWidth)}))}},d.map((function(t,a){return r.createElement(m,{key:a,value:t.data.id,relatedItem:t,pageProduct:g,handleCardClick:e.handleCardClick})}))),i?r.createElement(p.mlW,(h(n={className:"right-arrow"},"className",S?"active":"non-active"),h(n,"size",64),h(n,"onClick",(function(){return A(100)})),n)):r.createElement(p.AmD,(h(c={className:"right-arrow"},"className",S?"active":"non-active"),h(c,"size",64),h(c,"style",{color:"#a6a6a6"}),h(c,"onClick",(function(){return A(100)})),c)))};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const I=function(e){var t,a,n,c=(0,r.useContext)(o.Z),u=E((0,r.useState)(""),2),d=u[0],s=u[1],m=E((0,r.useState)(null),2),f=m[0],p=m[1],h=E((0,r.useState)(null),2),v=h[0],y=h[1],g=E((0,r.useState)(""),2),b=g[0],I=g[1],N=E((0,r.useState)(""),2),w=N[0],S=N[1],C=E((0,r.useState)(0),2),k=C[0],A=C[1];return(0,r.useEffect)((function(){l().get("/products",{params:{productId:e.productId,path:"/products/:product_id/styles"}}).then((function(e){s(e.data.results[0].photos[0].url),p(e.data.results[0].sale_price),y(e.data.results[0].original_price)})),l().get("/products",{params:{productId:e.productId,path:"/products/:product_id"}}).then((function(e){I(e.data.name),S(e.data.category)})),l().get("/reviews/meta",{params:{product_id:e.productId}}).then((function(e){for(var t=0,a=0,r=1;r<=5;r++)t+=r*parseInt(e.data.ratings[r],10),a+=parseInt(e.data.ratings[r],10);var n=Math.round(1e3*t/a)/1e3;A(n/5*100+"%")})).catch((function(e){A(0)}))}),[]),r.createElement("div",(n=c?"related-card-dark":"related-card-light",(a="className")in(t={className:"outfit-card"})?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t),r.createElement("i",{className:"far fa-times-circle",id:e.productId,onClick:e.removeFromList}),d?r.createElement("img",{className:"outfit-img",src:d,alt:"product default image",width:"180",height:"200"}):r.createElement("img",{className:"outfit-img",src:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:"product default image",width:"150",height:"200"}),r.createElement("div",{className:"outfit-card-category"},w),r.createElement("div",{className:"outfit-card-name"},b),f?r.createElement("div",{className:"outfit-card-sale-price"},f):r.createElement("div",{className:"outfit-card-original-price"},v),r.createElement("div",{className:"outfit-review"},r.createElement(i.Z,{value:k})))};function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const C=function(e){var t,a,n,c,i=(0,r.useContext)(o.Z),u="dummy",d=w((0,r.useState)([]),2),s=d[0],m=d[1],f=w((0,r.useState)(!1),2),h=f[0],v=f[1],y=w((0,r.useState)(!0),2),g=y[0],E=y[1],b=function(e){l().delete("/outfit/".concat(u,".").concat(e.target.id)).then((function(e){m(e.data)}))};(0,r.useEffect)((function(){l().get("/outfit/".concat(u)).then((function(e){m(e.data)}))}),[]);var S=(0,r.useRef)(),C=function(e){S.current.scrollLeft+=e};return r.createElement("div",{className:"outfit-list"},i?r.createElement(p.knT,(N(t={className:"left-arrow"},"className",h?"active":"non-active"),N(t,"size",64),N(t,"onClick",(function(){return C(-100)})),t)):r.createElement(p.hPB,(N(a={className:"left-arrow"},"className",h?"active":"non-active"),N(a,"size",64),N(a,"style",{color:"#a6a6a6"}),N(a,"onClick",(function(){return C(-100)})),a)),r.createElement("div",{className:"outfit-slide",ref:S,onLoad:function(){var e=S.current;e.clientWidth&&e.addEventListener("scroll",(function(){v(e.scrollLeft>0),E(e.scrollWidth===e.clientWidth||e.scrollLeft<e.scrollWidth-e.clientWidth)}))}},r.createElement("div",{className:"outfit-list-add-outfit"},r.createElement("img",{className:"outfit-add",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNzhJV3XJfPqf_txRnqYivCCWtJtfQ5o28Bt1NDrKrQhLt5eW8jpnCStBerRmX1JDjPSQ&  usqp=CAU",alt:"click to add to outfit list",onClick:function(){l().post("/outfit/".concat(u,".").concat(e.defaultProduct_id)).then((function(e){})),l().get("/outfit/".concat(u)).then((function(e){m(e.data)}))}}),r.createElement("h1",null,"Add to Outfit"),r.createElement("h4",{className:"white-text"},"click"),r.createElement("h5",{className:"white-text"},"here")),s.map((function(e,t){return r.createElement(I,{key:t,productId:e,removeFromList:b})}))),i?r.createElement(p.mlW,(N(n={className:"right-arrow"},"className",g?"active":"non-active"),N(n,"size",64),N(n,"onClick",(function(){return C(100)})),n)):r.createElement(p.AmD,(N(c={className:"right-arrow"},"className",g?"active":"non-active"),N(c,"size",64),N(c,"style",{color:"#a6a6a6"}),N(c,"onClick",(function(){return C(100)})),c)))};function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const A=function(e){var t,a,n=(t=(0,r.useState)(),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(l.push(r.value),!t||l.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw n}}return l}}(t,a)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=n[0],i=n[1];return(0,r.useEffect)((function(){i(e.product_id)}),[e.product_id]),c?r.createElement("div",{className:"related-products",onClick:function(e){var t={element:e.target.className,widget:"Related Items & Comparison",time:Date()};l().post("/interactions",t).then((function(e){})).catch((function(e){}))}},r.createElement("h1",null,"Related Products"),r.createElement(g,{defaultProduct_id:c,handleCardClick:e.handleCardClick}),r.createElement("h1",null,"Your Outfit"),r.createElement(C,{defaultProduct_id:c})):r.createElement("div",null,"Loading")}}}]);